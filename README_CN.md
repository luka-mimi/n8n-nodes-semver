# n8n-nodes-semver

[![npm version](https://badge.fury.io/js/@luka-cat-mimi%2Fn8n-nodes-semver.svg)](https://badge.fury.io/js/@luka-cat-mimi%2Fn8n-nodes-semver)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

ä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„n8nç¤¾åŒºèŠ‚ç‚¹ï¼Œç”¨äºŽè¯­ä¹‰åŒ–ç‰ˆæœ¬æŽ§åˆ¶æ“ä½œï¼Œæä¾›äº†å¯¹æµè¡Œçš„[semver](https://www.npmjs.com/package/semver) npmåŒ…çš„å®Œæ•´å°è£…ã€‚

[English](README.md) | ä¸­æ–‡

## ðŸš€ åŠŸèƒ½ç‰¹æ€§

è¯¥èŠ‚ç‚¹è¦†ç›–äº†**99%çš„semverå‡½æ•°**ï¼ŒåŒ…å«8ä¸ªç»¼åˆæ€§èµ„æºç±»åˆ«ï¼š

### ðŸ“‹ å¯ç”¨èµ„æº

| èµ„æº | æ“ä½œ | æè¿° |
|------|------|------|
| **éªŒè¯ (Validation)** | `valid`, `clean` | éªŒè¯å’Œæ¸…ç†ç‰ˆæœ¬å­—ç¬¦ä¸² |
| **æ¯”è¾ƒ (Comparison)** | `gt`, `gte`, `lt`, `lte`, `eq`, `neq`, `compare`, `rcompare`, `compareBuild`, `compareLoose`, `diff` | æ¯”è¾ƒç‰ˆæœ¬å· |
| **èŒƒå›´ (Range)** | `satisfies`, `validRange`, `maxSatisfying`, `minSatisfying`, `minVersion`, `gtr`, `ltr`, `outside`, `intersects`, `simplifyRange`, `subset`, `toComparators` | å¤„ç†ç‰ˆæœ¬èŒƒå›´ |
| **é€’å¢ž (Increment)** | `inc` | æŒ‰å‘å¸ƒç±»åž‹é€’å¢žç‰ˆæœ¬å· |
| **è§£æž (Parsing)** | `parse`, `major`, `minor`, `patch`, `prerelease` | è§£æžç‰ˆæœ¬ç»„ä»¶ |
| **æ¸…ç† (Cleaning)** | `clean` | æ¸…ç†å’Œè§„èŒƒåŒ–ç‰ˆæœ¬ |
| **å¼ºåˆ¶è½¬æ¢ (Coercion)** | `coerce` | å¼ºåˆ¶è½¬æ¢å­—ç¬¦ä¸²ä¸ºsemveræ ¼å¼ |
| **æŽ’åº (Sorting)** | `sort`, `rsort` | æŽ’åºç‰ˆæœ¬æ•°ç»„ |

### âœ¨ æ ¸å¿ƒèƒ½åŠ›

- âœ… **å®Œæ•´çš„semver APIè¦†ç›–** - è®¿é—®å‡ ä¹Žæ‰€æœ‰semverå‡½æ•°
- âœ… **TypeScriptæ”¯æŒ** - å®Œæ•´çš„ç±»åž‹å®‰å…¨å’Œæ™ºèƒ½æç¤º
- âœ… **è‹±æ–‡ç•Œé¢** - ç¬¦åˆå›½é™…åŒ–æ ‡å‡†
- âœ… **çµæ´»é€‰é¡¹** - å®½æ¾è§£æžã€é¢„å‘å¸ƒå¤„ç†ç­‰
- âœ… **é”™è¯¯å¤„ç†** - ä¼˜é›…çš„é”™è¯¯ç®¡ç†ï¼Œæ”¯æŒå¤±è´¥æ—¶ç»§ç»­
- âœ… **ç”Ÿäº§å°±ç»ª** - ç»è¿‡å……åˆ†æµ‹è¯•å’Œä¼˜åŒ–

## ðŸ“¦ å®‰è£…è¯´æ˜Ž

### å‰ç½®è¦æ±‚

- n8n ç‰ˆæœ¬ 0.190.0 æˆ–æ›´é«˜
- Node.js 18.0 æˆ–æ›´é«˜

### é€šè¿‡n8nç¤¾åŒºèŠ‚ç‚¹å®‰è£…

1. åœ¨n8nå®žä¾‹ä¸­è¿›å…¥ **è®¾ç½®** â†’ **ç¤¾åŒºèŠ‚ç‚¹**
2. è¾“å…¥åŒ…åï¼š`@luka-cat-mimi/n8n-nodes-semver`
3. ç‚¹å‡» **å®‰è£…**

### é€šè¿‡npmå®‰è£…

```bash
npm install @luka-cat-mimi/n8n-nodes-semver
```

## ðŸŽ¯ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç‰ˆæœ¬éªŒè¯

```json
{
  "resource": "validation",
  "operation": "valid",
  "version": "1.2.3"
}
```

**è¾“å‡ºï¼š**
```json
{
  "operation": "valid",
  "version": "1.2.3",
  "isValid": true,
  "parsedVersion": "1.2.3"
}
```

### ç‰ˆæœ¬æ¯”è¾ƒ

```json
{
  "resource": "comparison",
  "operation": "gt",
  "version1": "2.0.0",
  "version2": "1.9.0"
}
```

**è¾“å‡ºï¼š**
```json
{
  "operation": "gt",
  "version1": "2.0.0",
  "version2": "1.9.0",
  "result": true
}
```

### èŒƒå›´æ»¡è¶³æ£€æŸ¥

```json
{
  "resource": "range",
  "operation": "satisfies",
  "version": "1.2.3",
  "range": "^1.0.0"
}
```

**è¾“å‡ºï¼š**
```json
{
  "operation": "satisfies",
  "version": "1.2.3",
  "range": "^1.0.0",
  "result": true
}
```

### ç‰ˆæœ¬é€’å¢ž

```json
{
  "resource": "increment",
  "operation": "inc",
  "version": "1.2.3",
  "releaseType": "minor",
  "identifier": "alpha",
  "identifierBase": "0"
}
```

**è¾“å‡ºï¼š**
```json
{
  "operation": "inc",
  "version": "1.2.3",
  "releaseType": "minor",
  "identifier": "alpha",
  "identifierBase": "0",
  "result": "1.3.0"
}
```

### æ•°ç»„æŽ’åº

```json
{
  "resource": "sorting",
  "operation": "sort",
  "versions": "2.0.0,1.0.0,1.5.0,1.0.1"
}
```

**è¾“å‡ºï¼š**
```json
{
  "operation": "sort",
  "versions": ["2.0.0", "1.0.0", "1.5.0", "1.0.1"],
  "result": ["1.0.0", "1.0.1", "1.5.0", "2.0.0"]
}
```

## ðŸ”§ é…ç½®é€‰é¡¹

### å…¨å±€é€‰é¡¹

| é€‰é¡¹ | ç±»åž‹ | é»˜è®¤å€¼ | æè¿° |
|------|------|--------|------|
| `loose` | boolean | `false` | å¯¹ç‰ˆæœ¬å­—ç¬¦ä¸²ä½¿ç”¨å®½æ¾è§£æž |
| `includePrerelease` | boolean | `false` | åœ¨èŒƒå›´åŒ¹é…ä¸­åŒ…å«é¢„å‘å¸ƒç‰ˆæœ¬ |
| `rtl` | boolean | `false` | ä»Žå³åˆ°å·¦å¼ºåˆ¶è½¬æ¢ç‰ˆæœ¬å­—ç¬¦ä¸²ï¼ˆä»…ç”¨äºŽå¼ºåˆ¶è½¬æ¢ï¼‰ |

### å‘å¸ƒç±»åž‹ï¼ˆç”¨äºŽé€’å¢žæ“ä½œï¼‰

- `major` - 1.0.0 â†’ 2.0.0
- `minor` - 1.0.0 â†’ 1.1.0
- `patch` - 1.0.0 â†’ 1.0.1
- `premajor` - 1.0.0 â†’ 2.0.0-0
- `preminor` - 1.0.0 â†’ 1.1.0-0
- `prepatch` - 1.0.0 â†’ 1.0.1-0
- `prerelease` - 1.0.0 â†’ 1.0.1-0 æˆ– 1.0.1-0 â†’ 1.0.1-1
- `release` - 1.0.1-0 â†’ 1.0.1

## ðŸ“š APIå‚è€ƒ

### éªŒè¯æ“ä½œ

| æ“ä½œ | è¾“å…¥ | è¾“å‡º | æè¿° |
|------|------|------|------|
| `valid` | ç‰ˆæœ¬å­—ç¬¦ä¸² | å¸ƒå°”å€¼ + è§£æžåŽçš„ç‰ˆæœ¬ | æ£€æŸ¥ç‰ˆæœ¬æ˜¯å¦æœ‰æ•ˆ |
| `clean` | ç‰ˆæœ¬å­—ç¬¦ä¸² | æ¸…ç†åŽçš„ç‰ˆæœ¬ | æ¸…ç†å’Œè§„èŒƒåŒ–ç‰ˆæœ¬ |

### æ¯”è¾ƒæ“ä½œ

| æ“ä½œ | è¾“å…¥ | è¾“å‡º | æè¿° |
|------|------|------|------|
| `gt` | version1, version2 | å¸ƒå°”å€¼ | version1 > version2 |
| `gte` | version1, version2 | å¸ƒå°”å€¼ | version1 >= version2 |
| `lt` | version1, version2 | å¸ƒå°”å€¼ | version1 < version2 |
| `lte` | version1, version2 | å¸ƒå°”å€¼ | version1 <= version2 |
| `eq` | version1, version2 | å¸ƒå°”å€¼ | version1 == version2 |
| `neq` | version1, version2 | å¸ƒå°”å€¼ | version1 != version2 |
| `compare` | version1, version2 | -1\|0\|1 | æ¯”è¾ƒç‰ˆæœ¬ |
| `rcompare` | version1, version2 | -1\|0\|1 | åå‘æ¯”è¾ƒç‰ˆæœ¬ |
| `compareBuild` | version1, version2 | -1\|0\|1 | åŒ…å«æž„å»ºå…ƒæ•°æ®çš„æ¯”è¾ƒ |
| `compareLoose` | version1, version2 | -1\|0\|1 | å®½æ¾æ¯”è¾ƒ |
| `diff` | version1, version2 | å‘å¸ƒç±»åž‹ | èŽ·å–å·®å¼‚ç±»åž‹ |

### èŒƒå›´æ“ä½œ

| æ“ä½œ | è¾“å…¥ | è¾“å‡º | æè¿° |
|------|------|------|------|
| `satisfies` | ç‰ˆæœ¬, èŒƒå›´ | å¸ƒå°”å€¼ | æ£€æŸ¥ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³èŒƒå›´ |
| `validRange` | èŒƒå›´ | èŒƒå›´\|null | éªŒè¯èŒƒå›´å­—ç¬¦ä¸² |
| `maxSatisfying` | ç‰ˆæœ¬æ•°ç»„, èŒƒå›´ | ç‰ˆæœ¬\|null | æ»¡è¶³æ¡ä»¶çš„æœ€é«˜ç‰ˆæœ¬ |
| `minSatisfying` | ç‰ˆæœ¬æ•°ç»„, èŒƒå›´ | ç‰ˆæœ¬\|null | æ»¡è¶³æ¡ä»¶çš„æœ€ä½Žç‰ˆæœ¬ |
| `minVersion` | èŒƒå›´ | ç‰ˆæœ¬\|null | èŒƒå›´çš„æœ€å°ç‰ˆæœ¬ |
| `gtr` | ç‰ˆæœ¬, èŒƒå›´ | å¸ƒå°”å€¼ | ç‰ˆæœ¬å¤§äºŽèŒƒå›´ |
| `ltr` | ç‰ˆæœ¬, èŒƒå›´ | å¸ƒå°”å€¼ | ç‰ˆæœ¬å°äºŽèŒƒå›´ |
| `outside` | ç‰ˆæœ¬, èŒƒå›´, æ–¹å‘ | å¸ƒå°”å€¼ | ç‰ˆæœ¬åœ¨èŒƒå›´è¾¹ç•Œå¤– |
| `intersects` | èŒƒå›´1, èŒƒå›´2 | å¸ƒå°”å€¼ | æ£€æŸ¥èŒƒå›´æ˜¯å¦ç›¸äº¤ |
| `simplifyRange` | ç‰ˆæœ¬æ•°ç»„, èŒƒå›´ | å­—ç¬¦ä¸² | ç®€åŒ–çš„èŒƒå›´ |
| `subset` | å­èŒƒå›´, è¶…çº§èŒƒå›´ | å¸ƒå°”å€¼ | æ£€æŸ¥æ˜¯å¦ä¸ºèŒƒå›´å­é›† |
| `toComparators` | èŒƒå›´ | æ•°ç»„ | å°†èŒƒå›´è½¬æ¢ä¸ºæ¯”è¾ƒå™¨ |

## ðŸ—ï¸ å¸¸è§å·¥ä½œæµ

### 1. ç‰ˆæœ¬éªŒè¯ç®¡é“

```
è¾“å…¥æ•°æ® â†’ Semver (valid) â†’ è¿‡æ»¤å™¨ (isValid=true) â†’ ç»§ç»­å¤„ç†
```

### 2. ç‰ˆæœ¬æ¯”è¾ƒé“¾

```
è¾“å…¥æ•°æ® â†’ Semver (compare) â†’ å¼€å…³ (åŸºäºŽç»“æžœ) â†’ ä¸åŒè·¯å¾„
```

### 3. ä¾èµ–èŒƒå›´æ£€æŸ¥

```
åŒ…åˆ—è¡¨ â†’ Semver (satisfies) â†’ è¿‡æ»¤å…¼å®¹åŒ… â†’ æ›´æ–°æ“ä½œ
```

### 4. å‘å¸ƒç‰ˆæœ¬é€’å¢ž

```
å½“å‰ç‰ˆæœ¬ â†’ Semver (inc) â†’ æ–°ç‰ˆæœ¬ â†’ æ ‡ç­¾åˆ›å»º
```

## ðŸŽ¨ åº”ç”¨åœºæ™¯

### DevOpsè‡ªåŠ¨åŒ–
- **CI/CDç®¡é“** - è‡ªåŠ¨ç‰ˆæœ¬æ£€æŸ¥å’Œé€’å¢ž
- **ä¾èµ–ç®¡ç†** - éªŒè¯åŒ…ç‰ˆæœ¬å…¼å®¹æ€§
- **å‘å¸ƒæµç¨‹** - è‡ªåŠ¨åŒ–ç‰ˆæœ¬æ ‡è®°

### é¡¹ç›®ç®¡ç†
- **ç‰ˆæœ¬æŽ§åˆ¶** - ç»Ÿä¸€ç‰ˆæœ¬æ ¼å¼éªŒè¯
- **ä¾èµ–å®¡è®¡** - æ£€æŸ¥ç‰ˆæœ¬èŒƒå›´åˆè§„æ€§
- **æ›´æ–°é€šçŸ¥** - ç›‘æŽ§ç‰ˆæœ¬æ›´æ–°éœ€æ±‚

### è´¨é‡ä¿è¯
- **ç‰ˆæœ¬éªŒè¯** - ç¡®ä¿ç‰ˆæœ¬æ ¼å¼æ­£ç¡®æ€§
- **å…¼å®¹æ€§æ£€æŸ¥** - éªŒè¯ç‰ˆæœ¬å…¼å®¹æ€§
- **å›žå½’æµ‹è¯•** - ç‰ˆæœ¬å·®å¼‚åˆ†æž

## ðŸ› é”™è¯¯å¤„ç†

èŠ‚ç‚¹åŒ…å«å…¨é¢çš„é”™è¯¯å¤„ç†ï¼š

- **æ— æ•ˆç‰ˆæœ¬å­—ç¬¦ä¸²** - æ ¹æ®æ“ä½œè¿”å›žnullæˆ–false
- **æ ¼å¼é”™è¯¯çš„èŒƒå›´** - ä¼˜é›…å›žé€€å¹¶æä¾›é”™è¯¯è¯¦æƒ…
- **ç±»åž‹ä¸åŒ¹é…** - æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯
- **å¤±è´¥æ—¶ç»§ç»­** - å³ä½¿å‡ºé”™ä¹Ÿå¯é€‰æ‹©ç»§ç»­æ‰§è¡Œ

## ðŸ¤ è´¡çŒ®

æ¬¢è¿Žè´¡çŒ®ï¼è¯·éšæ—¶æäº¤Pull Requestã€‚

### å¼€å‘çŽ¯å¢ƒè®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/luka-mimi/n8n-nodes-semver.git

# å®‰è£…ä¾èµ–
npm install

# æž„å»ºé¡¹ç›®
npm run build

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint
```

## ðŸŽ¯ æœ€ä½³å®žè·µ

### 1. ç‰ˆæœ¬éªŒè¯
```json
{
  "resource": "validation",
  "operation": "valid",
  "version": "{{ $json.version }}",
  "options": {
    "loose": false
  }
}
```

### 2. æ‰¹é‡ç‰ˆæœ¬æ¯”è¾ƒ
ä½¿ç”¨å¾ªçŽ¯èŠ‚ç‚¹å¤„ç†ç‰ˆæœ¬æ•°ç»„ï¼Œé€ä¸€è¿›è¡Œæ¯”è¾ƒæ“ä½œã€‚

### 3. èŒƒå›´æ£€æŸ¥ä¼˜åŒ–
å¯¹äºŽå¤§é‡ç‰ˆæœ¬æ£€æŸ¥ï¼Œä¼˜å…ˆä½¿ç”¨`validRange`éªŒè¯èŒƒå›´æœ‰æ•ˆæ€§ã€‚

### 4. é”™è¯¯å¤„ç†
å¯ç”¨"Continue On Fail"é€‰é¡¹ä»¥å¤„ç†æ— æ•ˆè¾“å…¥ã€‚

## ðŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§[LICENSE](LICENSE.md)æ–‡ä»¶ã€‚

## ðŸ”— ç›¸å…³é“¾æŽ¥

- [n8nç¤¾åŒºèŠ‚ç‚¹æ–‡æ¡£](https://docs.n8n.io/integrations/community-nodes/)
- [semver npmåŒ…](https://www.npmjs.com/package/semver)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/)
- [n8nå®˜æ–¹æ–‡æ¡£](https://docs.n8n.io/)

## ðŸ“ž æ”¯æŒ

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/luka-mimi/n8n-nodes-semver/issues)
- **ç¤¾åŒºè®¨è®º**: [n8nç¤¾åŒºè®ºå›](https://community.n8n.io/)
- **æ–‡æ¡£**: [é¡¹ç›®Wiki](https://github.com/luka-mimi/n8n-nodes-semver/wiki)

## ðŸŽ–ï¸ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®å’Œè´¡çŒ®è€…ï¼š

- [semver](https://github.com/npm/node-semver) - åº•å±‚è¯­ä¹‰åŒ–ç‰ˆæœ¬åº“
- [n8n](https://github.com/n8n-io/n8n) - å¼ºå¤§çš„å·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°
- n8nç¤¾åŒº - æŒç»­çš„åé¦ˆå’Œæ”¯æŒ

---

å¦‚æžœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸ï¼
